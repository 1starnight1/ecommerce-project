{% extends "base.html" %}

{% block title %}用户仪表盘 - 电商管理系统{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1><i class="bi bi-speedometer2 text-primary"></i> 用户仪表盘</h1>
    <div class="text-muted">欢迎回来，{{ current_user.username }}！</div>
</div>

<div class="row">
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-person text-primary" style="font-size: 2rem;"></i>
                <h5 class="mt-2">{{ current_user.username }}</h5>
                <p class="text-muted">用户名</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-envelope text-success" style="font-size: 2rem;"></i>
                <h5 class="mt-2">{{ current_user.email }}</h5>
                <p class="text-muted">邮箱</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-calendar text-info" style="font-size: 2rem;"></i>
                <h5 class="mt-2">{{ current_user.created_at.strftime('%Y-%m-%d') }}</h5>
                <p class="text-muted">注册时间</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-shield-check text-danger" style="font-size: 2rem;"></i>
                <h5 class="mt-2">{{ '管理员' if current_user.is_admin else '普通用户' }}</h5>
                <p class="text-muted">账户类型</p>
            </div>
        </div>
    </div>
</div>

<div class="card mt-4">
    <div class="card-header">
        <h5 class="mb-0">账户操作</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            {% if current_user.is_admin %}
            <div class="col-md-4">
                <a href="{{ url_for('admin.dashboard') }}" class="btn btn-danger w-100">
                    <i class="bi bi-shield-check"></i> 管理后台
                </a>
            </div>
            {% endif %}

            <div class="col-md-4">
                <a href="{{ url_for('main.profile') }}" class="btn btn-outline-primary w-100">
                    <i class="bi bi-person"></i> 个人资料
                </a>
            </div>

            <div class="col-md-4">
                <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-secondary w-100">
                    <i class="bi bi-box-arrow-right"></i> 退出登录
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}